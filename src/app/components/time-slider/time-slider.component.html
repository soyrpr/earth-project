<div class="time-slider-toggle" (click)="$event.stopPropagation()">
  <button (click)="toggleControls()">
    {{ showControls ? 'Ocultar Control de Tiempo' : 'Mostrar Control de Tiempo' }}
  </button>
</div>

<div class="time-slider" *ngIf="showControls" (click)="$event.stopPropagation()">
  <div class="content-wrapper">
    <p><strong>Hora simulada:</strong> {{ simulatedTime | date: 'medium' }}</p>

    <label for="datetimePicker">Seleccionar fecha y hora:</label>
    <input
      id="datetimePicker"
      type="datetime-local"
      [value]="getDatetimeLocalValue()"
      (change)="onDateTimeChange($event)"
    />

    <p>Velocidad de simulación:</p>
    <div class="speed-controls">
      <input
        type="range"
        [min]="1"
        [max]="getMaxForUnit(speedUnit)"
        [(ngModel)]="speedAmount"
        (input)="onSpeedChange()"
      />
      <select [(ngModel)]="speedUnit" (change)="onSpeedChange()">
        <option value="seconds">Segundos</option>
        <option value="minutes">Minutos</option>
        <option value="hours">Horas</option>
        <option value="days">Días</option>
      </select>
      <span>{{ getFormattedSpeed() }}</span>
    </div>

    <div class="controls">
      <button (click)="toggleSimulation()">
        {{ isSimulating ? 'Pausar' : 'Reanudar' }}
      </button>
      <button (click)="toggleDirection()">
        {{ timeDirection === 1 ? 'Ir atrás en el tiempo' : 'Ir adelante en el tiempo' }}
      </button>
    </div>
  </div>
</div>
